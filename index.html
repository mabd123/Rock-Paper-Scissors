<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //loop for best of 9
        let userScore=0
        let cpuScore=0
        while (userScore<5 && cpuScore<5){
            //Rock = 1, Paper = 2, Scissors = 3

            //random number generation        
            let cpuNum = Math.floor(Math.random()*3)+1; 
                
            // user input
            let answer = prompt("Choose rock, paper or scissors");

            //conversion from user input string to number
            stringToNum = function(answer){
                let num;
                if (answer=="rock"){
                    num = 1
                }
                else if (answer == "paper"){
                    num = 2
                }
                else if (answer == "scissors"){
                    num = 3
                }
                    return num;
                }

            let num = stringToNum(answer)
            //console.log(num)
         
            //game
            game = function(num, cpuNum){
                let result;
                if (num == cpuNum){
                    result = "draw"
                }
                else if (num == 1 && cpuNum == 2){
                    result = "computer wins"
                }
                else if (num == 1 && cpuNum == 3){
                    result = "user wins"
                }
                else if (num == 2 && cpuNum == 1){
                    result ="user wins"
                }
                else if (num == 2 && cpuNum == 3){
                    result = "computer wins"
                }
                else if (num == 3 && cpuNum == 1){
                    result = "computer wins"
                }
                else if (num == 3 && cpuNum == 2){
                    result = "user wins"
                }
                return result;
                }

            let result= game(num, cpuNum)

            if (result == "user wins"){
                userScore++
            }
            else if (result == "computer wins"){
                cpuScore++
            }
            else if (result == "draw"){
                userScore+0
                cpuScore+0
            }

       let cpuChoie;
       if (cpuNum==1){
           cpuChoie="Rock"
       }
       else if (cpuNum==2){
           cpuChoie="Paper"
       }
       else if (cpuNum==3){
           cpuChoie="Scissors"
       }

       console.log(" ")
       console.log("user choice = " + answer)
       console.log("computer choice = " + cpuChoie)
       //console.log("num value = " + num)
       //console.log("cpuNum = "+cpuNum)
       console.log("result value = " + result)
       console.log("user score is " + userScore)
       console.log("conputer score is " + cpuScore)
            }
        console.log(" ")
        console.log(`FINAL SCORE: USER ${userScore}, COMPUTER ${cpuScore}`)

        if(userScore == 5){
            console.log("USER WINS BEST OF 9!!!")
        }
        else if(cpuScore == 5){
            console.log("COMPUTER WINS BEST OF 9!!!")
        }
        
    </script>
</body>
</html>